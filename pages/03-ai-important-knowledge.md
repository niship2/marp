---
marp: true
theme: default
paginate: true
backgroundColor: #fff
backgroundImage: url('https://marp.app/assets/hero-background.svg')
---

# 3. 【応用】精度を最大化する「コンテキストエンジニアリング」とは

---

## 3-1. プロンプトの先へ：コンテキストの重要性

#### プロンプトエンジニアリングの限界

**従来のプロンプト設計の問題点**

- **単発的な指示**: 個別の質問に対する一時的な回答
- **文脈の欠如**: 背景情報や継続的な関係性の不足
- **一貫性の欠如**: 複数の質問間での整合性の欠如
- **学習効果の欠如**: 過去のやり取りからの学習不足

**コンテキストエンジニアリングの必要性**

- **全体的な設計**: AI との対話全体を体系的に設計
- **継続的な関係**: 長期的な対話関係の構築
- **文脈の蓄積**: 過去のやり取りの効果的な活用
- **適応的改善**: 対話を通じた継続的な最適化

---

## 3-1. プロンプトの先へ：コンテキストの重要性（続き）

#### コンテキストエンジニアリングとは

**定義**

```
コンテキストエンジニアリングとは、AIとの対話において、
効果的な文脈（コンテキスト）を設計・構築し、
期待する出力を得るための包括的なアプローチである。
```

**プロンプトエンジニアリングとの違い**

| 項目     | プロンプトエンジニアリング | コンテキストエンジニアリング |
| -------- | -------------------------- | ---------------------------- |
| **範囲** | 個別の指示設計             | 対話全体の設計               |
| **期間** | 短期的・一時的             | 長期的・継続的               |
| **目的** | 特定の回答獲得             | 全体的な対話品質向上         |
| **手法** | 指示の最適化               | 文脈・環境・関係性の設計     |

#### コンテキストエンジニアリングの利点

- **一貫性の向上**: 複数の質問間での整合性確保
- **効率性の向上**: 文脈の再利用による時間短縮
- **品質の向上**: 背景情報の活用による精度向上
- **学習効果**: 継続的な改善と最適化

---

## 3-2. コンテキストエンジニアリングの基本概念

#### コンテキストの構成要素

**1. 役割設定（Role Definition）**

```
AIの専門性・能力・制約を明確に定義
例：「あなたは特許調査の専門家で、20年の実務経験があります」
```

**2. 背景情報（Background Information）**

```
対話に必要な前提知識・状況・制約を提供
例：「現在、AI技術分野の先行技術調査を実施中」
```

**3. 対話履歴（Conversation History）**

```
過去のやり取りの記録と活用
例：「先ほどの検索結果を踏まえて、次の分析を実施」
```

**4. 環境設定（Environment Setup）**

```
利用可能なツール・データ・制約の設定
例：「特許データベースへのアクセス権限があります」
```

---

## 3-2. コンテキストエンジニアリングの基本概念（続き）

#### コンテキスト設計の基本原則

**CONTEXT 原則**

- **C**omprehensive（包括的）: 必要な情報を網羅
- **O**rganized（整理された）: 論理的な構造化
- **N**atural（自然な）: 人間らしい対話の流れ
- **T**argeted（目的指向）: 明確な目標設定
- **E**volving（進化する）: 継続的な改善
- **X**plicit（明示的）: 曖昧さの排除
- **T**imely（適時性）: タイミングの最適化

#### コンテキスト設計の実践ポイント

**設計の流れ**

1. **目的の明確化**: 何を達成したいかを明確にする
2. **情報の整理**: 必要な情報を体系的に整理する
3. **構造の設計**: 論理的な構造を設計する
4. **実装とテスト**: 実際に使用して効果を確認する
5. **改善と最適化**: 継続的に改善していく

**成功の鍵**

- **段階的な構築**: 一度にすべてを構築せず、段階的に
- **継続的な改善**: 使用結果をフィードバックとして活用
- **柔軟性の確保**: 状況に応じて調整可能な設計
- **実用性の重視**: 実際の業務で使いやすい設計

---

## 3-3. 知財業務でのコンテキストエンジニアリング実践

#### 特許調査におけるコンテキスト設計

**基本設計例**

<role>
あなたは特許調査の専門家で、20年の実務経験があります。
特にAI技術分野での調査に精通しており、新規性・進歩性の評価を得意としています。
</role>

<context>
現在、AI技術分野の先行技術調査を実施中です。
調査対象は2020年以降の特許文献で、特にリアルタイム処理技術に注目しています。
</context>

<environment>
利用可能なツール：
- 特許データベース（J-PlatPat、USPTO）
- 技術文献データベース
- 分析ツール（Excel、Python）
</environment>

<conversation_style>
専門的かつ実用的な分析を提供し、具体的な根拠を示してください。
技術的詳細と法的観点の両方を考慮した回答をお願いします。
</conversation_style>

<expertise>
- 特許法の深い理解
- 技術動向の把握
- 検索戦略の設計
- 分析手法の選択
</expertise>

---

## 3-3. 知財業務でのコンテキストエンジニアリング実践（続き）

#### 明細書作成におけるコンテキスト設計

**基本設計例**

<role>
あなたは特許明細書作成の専門家で、25年の実務経験があります。
特許庁の要件に完全準拠した明細書作成と、法的妥当性の確保を得意としています。
</role>

<context>
新規発明の特許出願準備中です。
先行技術との関係を明確にし、発明の新規性・進歩性を適切に説明する必要があります。
</context>

<environment>
利用可能な情報：
- 発明の詳細仕様
- 先行技術文献
- 特許庁の審査基準
- 関連する技術動向
</environment>

<conversation_style>
法的に正確で、技術的に詳細な明細書作成を支援します。
特許庁の要件を満たし、実用的な提案を提供します。
</conversation_style>

<expertise>
- 特許法の深い理解
- 技術的詳細の把握
- 明細書作成の実務
- 審査対応の経験
</expertise>

---

## 3-4. コンテキスト設計の実践テクニック

#### 段階的なコンテキスト構築

**Step 1: 基本設定の確立**

```
1. 役割の明確化
   - AIの専門性・能力の定義
   - 期待される行動パターンの設定

2. 背景情報の整理
   - 業務の目的・状況の説明
   - 制約条件の明示

3. 環境設定の構築
   - 利用可能なツール・データの定義
   - 制限事項の明確化
```

**Step 2: 対話履歴の活用**

```
1. 過去のやり取りの記録
   - 質問と回答の保存
   - 効果的なパターンの特定

2. 文脈の継承
   - 前回の結果を踏まえた質問
   - 一貫性のある回答の確保

3. 学習効果の活用
   - 成功事例の蓄積
   - 改善点の特定
```

---

## 3-4. コンテキスト設計の実践テクニック（続き）

#### コンテキストの動的調整

**状況に応じた調整**

- **業務フェーズ**: 調査→分析→作成→評価の各段階
- **重要度**: 高重要度案件と通常案件の使い分け
- **緊急度**: 緊急案件と通常案件の対応方法
- **専門性**: 技術分野による専門性の調整

**継続的な最適化**

- **効果測定**: 定期的な効果評価の実施
- **フィードバック収集**: 実際の使用感の収集
- **改善実施**: 効果的な改善の実施
- **ベストプラクティス化**: 成功パターンの標準化

#### コンテキスト設計のチェックリスト

**設計時の確認項目**

□ 役割が明確に定義されているか
□ 背景情報が十分に提供されているか
□ 環境設定が適切に行われているか
□ 対話スタイルが統一されているか
□ 専門性が適切に設定されているか
□ 制約条件が明確になっているか
□ 継続的な改善の仕組みがあるか

---

## 3-5. コンテキストエンジニアリングの高度な活用

#### マルチモーダルコンテキスト

**複数情報源の統合**

- **テキスト情報**: 特許文献、技術資料
- **図面情報**: 発明の図面、フローチャート
- **数値データ**: 実験データ、統計情報
- **音声情報**: 会議録音、インタビュー

**統合的な分析**

```
1. 情報の収集・整理
2. 関連性の分析
3. 統合的な評価
4. 総合的な提案
```

#### 動的コンテキスト管理

**リアルタイム調整**

- **状況変化への対応**: 新しい情報の追加
- **優先度の動的変更**: 重要度の変化への対応
- **専門性の調整**: 技術分野の変更への対応
- **制約条件の更新**: 新しい制約への対応

---

## 3-5. コンテキストエンジニアリングの高度な活用（続き）

#### 協調的コンテキスト設計

**チームでの活用**

- **役割分担**: 各メンバーの専門性を活かした設計
- **情報共有**: チーム内での情報共有と活用
- **統一基準**: チーム全体での統一された基準
- **継続改善**: チーム全体での継続的な改善

**組織的な活用**

- **標準化**: 組織全体での標準的な設計
- **ベストプラクティス**: 成功事例の組織内共有
- **トレーニング**: コンテキスト設計スキルの向上
- **評価・改善**: 組織全体での効果測定と改善

#### 高度なテクニック

**自動化と最適化**

- **自動調整**: 状況に応じた自動的な調整
- **学習機能**: 使用履歴からの学習と最適化
- **予測機能**: 次に必要な情報の予測
- **提案機能**: 最適なコンテキストの提案

---

## 3-6. コンテキストエンジニアリングの効果測定

#### 測定指標の設定

**定量的指標**

- **回答精度**: 期待する回答との一致度
- **処理時間**: 回答生成にかかる時間
- **一貫性**: 複数回の実行での一貫性
- **効率性**: 情報収集・処理の効率

**定性的指標**

- **満足度**: ユーザーの満足度
- **実用性**: 実際の業務での使用可能性
- **創造性**: 新たな視点や洞察の提供
- **適切性**: 状況に適した回答の提供

#### 効果測定の方法

**測定プロセス**

1. **ベースライン設定**: 現在の性能を測定
2. **目標設定**: 改善すべき指標と目標値を設定
3. **改善実施**: コンテキスト設計の改善
4. **効果測定**: 改善効果を測定・評価
5. **継続改善**: さらなる改善を実施

---

## 3-6. コンテキストエンジニアリングの効果測定（続き）

#### 継続的改善サイクル

**PDCAサイクルの活用**

- **Plan（計画）**: 改善計画の策定
- **Do（実行）**: 改善の実施
- **Check（確認）**: 効果の測定・評価
- **Act（改善）**: さらなる改善の実施

**改善のポイント**

- **小さな改善の継続**: 一度に大幅な変更は避ける
- **データに基づく改善**: 客観的なデータを活用
- **ユーザーフィードバック**: 実際の使用感を重視
- **ベンチマーク**: 他社・他業界との比較

#### 成功事例の蓄積

**事例の記録**

- **成功パターン**: 効果的なコンテキスト設計
- **失敗パターン**: 避けるべき設計パターン
- **改善プロセス**: 効果的な改善のプロセス
- **ベストプラクティス**: 標準的な設計パターン

---

## 3-7. 実践的なコンテキスト設計例

#### 特許調査プロジェクトの完全例

**プロジェクト概要**

<role>
あなたは特許調査プロジェクトのリーダーで、15年の実務経験があります。
AI技術分野での調査に精通し、効率的で網羅的な調査を専門としています。
</role>

<context>
AI技術分野の新規発明について、先行技術調査を実施する必要があります。
調査結果は特許出願の判断材料として使用されます。
</context>

<environment>
利用可能なリソース：
- 特許データベース（J-PlatPat、USPTO、EPO）
- 技術文献データベース
- 分析ツール（Excel、Python、Tableau）
- 専門家チーム（技術者、弁理士）
</environment>

<conversation_style>
専門的かつ実用的な分析を提供し、具体的な根拠を示してください。
技術的詳細と法的観点の両方を考慮した回答をお願いします。
</conversation_style>

<expertise>
- 特許法の深い理解
- AI技術の専門知識
- 検索戦略の設計
- 分析手法の選択
- プロジェクト管理
</expertise>

<quality_standards>
- 網羅性：関連文献の見落としを最小化
- 精度：技術的・法的に正確な分析
- 効率性：最短時間での調査完了
- 実用性：実際の判断に使用可能
</quality_standards>

---

## 3-7. 実践的なコンテキスト設計例（続き）

#### 調査プロセスの設計

**段階的な調査プロセス**

1. **事前準備フェーズ**
   - 発明の詳細理解
   - 調査範囲の設定
   - 検索戦略の策定

2. **検索実行フェーズ**
   - キーワード検索
   - 分類検索
   - 引用検索

3. **分析評価フェーズ**
   - 関連性評価
   - 新規性・進歩性評価
   - リスク評価

4. **報告書作成フェーズ**
   - 調査結果の整理
   - 分析結果のまとめ
   - 推奨事項の提示

#### 継続的な改善

**改善サイクル**

- **定期的な評価**: 月次での効果測定
- **フィードバック収集**: ユーザーからの意見収集
- **改善実施**: 効果的な改善の実施
- **ベストプラクティス化**: 成功パターンの標準化

---

## 3-8. コンテキストエンジニアリングのベストプラクティス

#### 設計時の注意点

**基本原則**

- **明確性**: 曖昧さを排除した明確な設計
- **一貫性**: 全体を通じて一貫した設計
- **実用性**: 実際の業務で使いやすい設計
- **拡張性**: 将来の拡張に対応できる設計

**避けるべきパターン**

- **過度な複雑化**: 必要以上に複雑な設計
- **硬直性**: 状況変化に対応できない設計
- **不完全性**: 必要な要素が不足した設計
- **非実用性**: 実際の業務で使えない設計

#### 運用時の注意点

**継続的な管理**

- **定期的な見直し**: 月次・四半期での見直し
- **効果測定**: 定期的な効果測定の実施
- **改善実施**: 効果的な改善の実施
- **文書化**: 設計内容と改善履歴の記録

**チームでの活用**

- **共有・統一**: チーム内での共有と統一
- **トレーニング**: チームメンバーのスキル向上
- **フィードバック**: チーム全体でのフィードバック
- **継続改善**: チーム全体での継続的改善

---

## 3-8. コンテキストエンジニアリングのベストプラクティス（続き）

#### 将来展望

**技術的発展**

- **AI技術の進歩**: より高度なコンテキスト理解
- **自動化の向上**: 自動的なコンテキスト調整
- **統合化の進展**: 複数システムとの統合
- **パーソナライゼーション**: 個別最適化の実現

**組織的発展**

- **標準化の進展**: 業界標準の確立
- **専門性の向上**: 専門家の育成
- **組織文化の変化**: AI活用文化の定着
- **競争優位性**: 他社との差別化

#### 実践的なアドバイス

**導入時のポイント**

- **段階的な導入**: 小さな範囲から開始
- **効果測定**: 定量的な効果測定の実施
- **ユーザー教育**: 適切な使用方法の教育
- **継続的改善**: 継続的な改善の実施

**成功の鍵**

- **明確な目的**: 何を達成したいかを明確にする
- **適切な設計**: 目的に適した設計の実施
- **継続的な改善**: 継続的な改善の実施
- **組織的な支援**: 組織全体での支援体制
